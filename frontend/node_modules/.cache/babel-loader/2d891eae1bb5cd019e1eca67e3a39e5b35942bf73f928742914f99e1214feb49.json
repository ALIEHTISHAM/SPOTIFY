{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maali\\\\OneDrive\\\\Desktop\\\\MUSIC\\\\frontend\\\\src\\\\components\\\\AudioPlayer.js\",\n  _s = $RefreshSig$();\n/**\r\n * AudioPlayer component\r\n * ---------------------\r\n * Extracted from BrowsePage to optimize rendering.\r\n * Handles all audio playback logic and state locally.\r\n * Memoized with React.memo to prevent unnecessary re-renders.\r\n */\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AudioPlayer = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(function AudioPlayer({\n  track,\n  isPlaying,\n  onPlayPause,\n  onSeek,\n  onEnded,\n  initialVolume = 1\n}) {\n  _s();\n  const audioRef = useRef(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(initialVolume);\n\n  // Play/pause effect\n  useEffect(() => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.play();\n    } else {\n      audioRef.current.pause();\n    }\n  }, [isPlaying, track]);\n\n  // Update duration on metadata load\n  const handleLoadedMetadata = useCallback(() => {\n    setDuration(audioRef.current.duration);\n  }, []);\n\n  // Update current time on time update\n  const handleTimeUpdate = useCallback(() => {\n    setCurrentTime(audioRef.current.currentTime);\n  }, []);\n\n  // Seek handler\n  const handleSeek = useCallback(e => {\n    const time = e.target.value;\n    audioRef.current.currentTime = time;\n    setCurrentTime(time);\n    if (onSeek) onSeek(time);\n  }, [onSeek]);\n\n  // Volume handler\n  const handleVolumeChange = useCallback(e => {\n    const vol = e.target.value;\n    setVolume(vol);\n    audioRef.current.volume = vol;\n  }, []);\n\n  // Ended handler\n  const handleEnded = useCallback(() => {\n    if (onEnded) onEnded();\n  }, [onEnded]);\n\n  // Format time helper\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  if (!track) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-player\",\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: track.audioUrl,\n      onLoadedMetadata: handleLoadedMetadata,\n      onTimeUpdate: handleTimeUpdate,\n      onEnded: handleEnded\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onPlayPause,\n      children: isPlaying ? 'Pause' : 'Play'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [formatTime(currentTime), \" / \", formatTime(duration)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: 0,\n      max: duration,\n      value: currentTime,\n      onChange: handleSeek\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: 0,\n      max: 1,\n      step: 0.01,\n      value: volume,\n      onChange: handleVolumeChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}, \"Kexy56YHfGHIsBm0Zf70I2+hgFI=\")), \"Kexy56YHfGHIsBm0Zf70I2+hgFI=\");\n_c2 = AudioPlayer;\nexport default AudioPlayer;\nvar _c, _c2;\n$RefreshReg$(_c, \"AudioPlayer$React.memo\");\n$RefreshReg$(_c2, \"AudioPlayer\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useCallback","jsxDEV","_jsxDEV","AudioPlayer","_s","memo","_c","track","isPlaying","onPlayPause","onSeek","onEnded","initialVolume","audioRef","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","current","play","pause","handleLoadedMetadata","handleTimeUpdate","handleSeek","e","time","target","value","handleVolumeChange","vol","handleEnded","formatTime","minutes","Math","floor","seconds","toString","padStart","className","children","ref","src","audioUrl","onLoadedMetadata","onTimeUpdate","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","min","max","onChange","step","_c2","$RefreshReg$"],"sources":["C:/Users/maali/OneDrive/Desktop/MUSIC/frontend/src/components/AudioPlayer.js"],"sourcesContent":["/**\r\n * AudioPlayer component\r\n * ---------------------\r\n * Extracted from BrowsePage to optimize rendering.\r\n * Handles all audio playback logic and state locally.\r\n * Memoized with React.memo to prevent unnecessary re-renders.\r\n */\r\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\r\n\r\nconst AudioPlayer = React.memo(function AudioPlayer({\r\n  track,\r\n  isPlaying,\r\n  onPlayPause,\r\n  onSeek,\r\n  onEnded,\r\n  initialVolume = 1\r\n}) {\r\n  const audioRef = useRef(null);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(initialVolume);\r\n\r\n  // Play/pause effect\r\n  useEffect(() => {\r\n    if (!audioRef.current) return;\r\n    if (isPlaying) {\r\n      audioRef.current.play();\r\n    } else {\r\n      audioRef.current.pause();\r\n    }\r\n  }, [isPlaying, track]);\r\n\r\n  // Update duration on metadata load\r\n  const handleLoadedMetadata = useCallback(() => {\r\n    setDuration(audioRef.current.duration);\r\n  }, []);\r\n\r\n  // Update current time on time update\r\n  const handleTimeUpdate = useCallback(() => {\r\n    setCurrentTime(audioRef.current.currentTime);\r\n  }, []);\r\n\r\n  // Seek handler\r\n  const handleSeek = useCallback((e) => {\r\n    const time = e.target.value;\r\n    audioRef.current.currentTime = time;\r\n    setCurrentTime(time);\r\n    if (onSeek) onSeek(time);\r\n  }, [onSeek]);\r\n\r\n  // Volume handler\r\n  const handleVolumeChange = useCallback((e) => {\r\n    const vol = e.target.value;\r\n    setVolume(vol);\r\n    audioRef.current.volume = vol;\r\n  }, []);\r\n\r\n  // Ended handler\r\n  const handleEnded = useCallback(() => {\r\n    if (onEnded) onEnded();\r\n  }, [onEnded]);\r\n\r\n  // Format time helper\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = Math.floor(time % 60);\r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (!track) return null;\r\n\r\n  return (\r\n    <div className=\"audio-player\">\r\n      <audio\r\n        ref={audioRef}\r\n        src={track.audioUrl}\r\n        onLoadedMetadata={handleLoadedMetadata}\r\n        onTimeUpdate={handleTimeUpdate}\r\n        onEnded={handleEnded}\r\n      />\r\n      <button onClick={onPlayPause}>{isPlaying ? 'Pause' : 'Play'}</button>\r\n      <span>{formatTime(currentTime)} / {formatTime(duration)}</span>\r\n      <input\r\n        type=\"range\"\r\n        min={0}\r\n        max={duration}\r\n        value={currentTime}\r\n        onChange={handleSeek}\r\n      />\r\n      <input\r\n        type=\"range\"\r\n        min={0}\r\n        max={1}\r\n        step={0.01}\r\n        value={volume}\r\n        onChange={handleVolumeChange}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default AudioPlayer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}