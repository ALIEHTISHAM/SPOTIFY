{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maali\\\\OneDrive\\\\Desktop\\\\MUSIC\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/AdminDashboard.css'; // Import the CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  console.log('Rendering AdminDashboard component'); // Add log for debugging\n  const {\n    user\n  } = useAuth();\n  const [pendingTracks, setPendingTracks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [rejectionFeedback, setRejectionFeedback] = useState({});\n  const [showFeedbackInput, setShowFeedbackInput] = useState({});\n\n  // Fetch artist's uploaded tracks\n  useEffect(() => {\n    const fetchPendingTracks = async () => {\n      try {\n        setLoading(true);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error('No authentication token found');\n        }\n        const response = await fetch('http://localhost:5000/api/admin/tracks/pending', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || 'Failed to fetch pending tracks');\n        }\n        const data = await response.json();\n        setPendingTracks(data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching pending tracks:', err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    // Fetch tracks only if the user is authenticated and is admin\n    if (user && user.role === 'admin') {\n      fetchPendingTracks();\n    } else if (!user) {\n      setLoading(false); // Not authenticated\n    } else {\n      setLoading(false); // Authenticated but not admin\n    }\n  }, [user]); // Re-run effect if user changes\n\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Please log in to access this page.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }, this);\n  }\n  if (user.role !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Access Denied. You do not have administrative privileges.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Handlers for approve and reject actions\n  const handleApprove = async trackId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/admin/tracks/${trackId}/approve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to approve track');\n      }\n\n      // Remove the approved track from the pending list\n      setPendingTracks(pendingTracks.filter(track => track._id !== trackId));\n      alert('Track approved successfully!');\n    } catch (error) {\n      console.error('Error approving track:', error);\n      alert(`Failed to approve track: ${error.message}`);\n    }\n  };\n  const handleRejectClick = trackId => {\n    setShowFeedbackInput(prev => ({\n      ...prev,\n      [trackId]: true\n    }));\n  };\n  const handleCancelReject = trackId => {\n    setShowFeedbackInput(prev => ({\n      ...prev,\n      [trackId]: false\n    }));\n    setRejectionFeedback(prev => ({\n      ...prev,\n      [trackId]: ''\n    }));\n  };\n  const handleFeedbackChange = (trackId, value) => {\n    setRejectionFeedback(prev => ({\n      ...prev,\n      [trackId]: value\n    }));\n  };\n  const handleReject = async trackId => {\n    const feedback = rejectionFeedback[trackId] || ''; // Get feedback for this track\n    if (!feedback.trim()) {\n      alert('Please provide feedback for rejection.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5000/api/admin/tracks/${trackId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          feedback\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to reject track');\n      }\n\n      // Remove the rejected track from the pending list\n      setPendingTracks(pendingTracks.filter(track => track._id !== trackId));\n      // Clear feedback for this track\n      setRejectionFeedback(prev => {\n        const newState = {\n          ...prev\n        };\n        delete newState[trackId];\n        return newState;\n      });\n      alert('Track rejected successfully!');\n    } catch (error) {\n      console.error('Error rejecting track:', error);\n      alert(`Failed to reject track: ${error.message}`);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading pending tracks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"pending-tracks\",\n      children: pendingTracks.map(track => {\n        var _track$artist$artistP, _rejectionFeedback$tr;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"pending-track\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"track-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: track.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Artist: \", track.artist ? ((_track$artist$artistP = track.artist.artistProfile) === null || _track$artist$artistP === void 0 ? void 0 : _track$artist$artistP.artistName) || track.artist.name : 'Unknown Artist']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Genre: \", track.genre]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"track-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"approve-button\",\n              onClick: () => handleApprove(track._id),\n              disabled: loading,\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), !showFeedbackInput[track._id] ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"reject-button\",\n              onClick: () => handleRejectClick(track._id),\n              disabled: loading,\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feedback-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"feedback-input\",\n                placeholder: \"Enter rejection feedback...\",\n                value: rejectionFeedback[track._id] || '',\n                onChange: e => handleFeedbackChange(track._id, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feedback-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"submit-reject-button\",\n                  onClick: () => handleReject(track._id),\n                  disabled: !((_rejectionFeedback$tr = rejectionFeedback[track._id]) !== null && _rejectionFeedback$tr !== void 0 && _rejectionFeedback$tr.trim()),\n                  children: \"Submit Rejection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"cancel-reject-button\",\n                  onClick: () => handleCancelReject(track._id),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, track._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"FX503Ry3cMV9WaLG62ya9TSFveU=\", false, function () {\n  return [useAuth];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsxDEV","_jsxDEV","AdminDashboard","_s","console","log","user","pendingTracks","setPendingTracks","loading","setLoading","error","setError","rejectionFeedback","setRejectionFeedback","showFeedbackInput","setShowFeedbackInput","fetchPendingTracks","token","localStorage","getItem","Error","response","fetch","headers","ok","errorData","json","message","data","err","role","children","fileName","_jsxFileName","lineNumber","columnNumber","handleApprove","trackId","method","filter","track","_id","alert","handleRejectClick","prev","handleCancelReject","handleFeedbackChange","value","handleReject","feedback","trim","body","JSON","stringify","newState","className","map","_track$artist$artistP","_rejectionFeedback$tr","title","artist","artistProfile","artistName","name","genre","onClick","disabled","placeholder","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/maali/OneDrive/Desktop/MUSIC/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport '../styles/AdminDashboard.css'; // Import the CSS file\r\n\r\nconst AdminDashboard = () => {\r\n  console.log('Rendering AdminDashboard component'); // Add log for debugging\r\n  const { user } = useAuth();\r\n  const [pendingTracks, setPendingTracks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [rejectionFeedback, setRejectionFeedback] = useState({});\r\n  const [showFeedbackInput, setShowFeedbackInput] = useState({});\r\n\r\n  // Fetch artist's uploaded tracks\r\n  useEffect(() => {\r\n    const fetchPendingTracks = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          throw new Error('No authentication token found');\r\n        }\r\n\r\n        const response = await fetch('http://localhost:5000/api/admin/tracks/pending', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorData = await response.json();\r\n          throw new Error(errorData.message || 'Failed to fetch pending tracks');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setPendingTracks(data);\r\n        setLoading(false);\r\n\r\n      } catch (err) {\r\n        console.error('Error fetching pending tracks:', err);\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    // Fetch tracks only if the user is authenticated and is admin\r\n    if (user && user.role === 'admin') {\r\n      fetchPendingTracks();\r\n    } else if (!user) {\r\n       setLoading(false); // Not authenticated\r\n    } else {\r\n       setLoading(false); // Authenticated but not admin\r\n    }\r\n\r\n  }, [user]); // Re-run effect if user changes\r\n\r\n  if (!user) {\r\n    return <div>Please log in to access this page.</div>;\r\n  }\r\n\r\n  if (user.role !== 'admin') {\r\n    return <div>Access Denied. You do not have administrative privileges.</div>;\r\n  }\r\n\r\n  // Handlers for approve and reject actions\r\n  const handleApprove = async (trackId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/admin/tracks/${trackId}/approve`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Failed to approve track');\r\n      }\r\n\r\n      // Remove the approved track from the pending list\r\n      setPendingTracks(pendingTracks.filter(track => track._id !== trackId));\r\n      alert('Track approved successfully!');\r\n\r\n    } catch (error) {\r\n      console.error('Error approving track:', error);\r\n      alert(`Failed to approve track: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleRejectClick = (trackId) => {\r\n    setShowFeedbackInput(prev => ({\r\n      ...prev,\r\n      [trackId]: true\r\n    }));\r\n  };\r\n\r\n  const handleCancelReject = (trackId) => {\r\n    setShowFeedbackInput(prev => ({\r\n      ...prev,\r\n      [trackId]: false\r\n    }));\r\n    setRejectionFeedback(prev => ({\r\n      ...prev,\r\n      [trackId]: ''\r\n    }));\r\n  };\r\n\r\n  const handleFeedbackChange = (trackId, value) => {\r\n    setRejectionFeedback(prev => ({\r\n      ...prev,\r\n      [trackId]: value\r\n    }));\r\n  };\r\n\r\n  const handleReject = async (trackId) => {\r\n    const feedback = rejectionFeedback[trackId] || ''; // Get feedback for this track\r\n    if (!feedback.trim()) {\r\n      alert('Please provide feedback for rejection.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/admin/tracks/${trackId}/reject`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ feedback }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Failed to reject track');\r\n      }\r\n\r\n      // Remove the rejected track from the pending list\r\n      setPendingTracks(pendingTracks.filter(track => track._id !== trackId));\r\n      // Clear feedback for this track\r\n      setRejectionFeedback(prev => {\r\n        const newState = { ...prev };\r\n        delete newState[trackId];\r\n        return newState;\r\n      });\r\n      alert('Track rejected successfully!');\r\n\r\n    } catch (error) {\r\n      console.error('Error rejecting track:', error);\r\n      alert(`Failed to reject track: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading pending tracks...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <h1>Admin Dashboard</h1>\r\n      <ul className=\"pending-tracks\">\r\n        {pendingTracks.map(track => (\r\n          <li key={track._id} className=\"pending-track\">\r\n            <div className=\"track-info\">\r\n              <h3>{track.title}</h3>\r\n              <p>Artist: {track.artist ? (track.artist.artistProfile?.artistName || track.artist.name) : 'Unknown Artist'}</p>\r\n              <p>Genre: {track.genre}</p>\r\n            </div>\r\n            <div className=\"track-actions\">\r\n              <button\r\n                className=\"approve-button\"\r\n                onClick={() => handleApprove(track._id)}\r\n                disabled={loading}\r\n              >\r\n                Approve\r\n              </button>\r\n              {!showFeedbackInput[track._id] ? (\r\n                <button\r\n                  className=\"reject-button\"\r\n                  onClick={() => handleRejectClick(track._id)}\r\n                  disabled={loading}\r\n                >\r\n                  Reject\r\n                </button>\r\n              ) : (\r\n                <div className=\"feedback-container\">\r\n                  <textarea\r\n                    className=\"feedback-input\"\r\n                    placeholder=\"Enter rejection feedback...\"\r\n                    value={rejectionFeedback[track._id] || ''}\r\n                    onChange={(e) => handleFeedbackChange(track._id, e.target.value)}\r\n                  />\r\n                  <div className=\"feedback-actions\">\r\n                    <button\r\n                      className=\"submit-reject-button\"\r\n                      onClick={() => handleReject(track._id)}\r\n                      disabled={!rejectionFeedback[track._id]?.trim()}\r\n                    >\r\n                      Submit Rejection\r\n                    </button>\r\n                    <button\r\n                      className=\"cancel-reject-button\"\r\n                      onClick={() => handleCancelReject(track._id)}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}